(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/gtorderconfirm/gtorderconfirm"],{"116c":function(e,t,i){"use strict";(function(e){function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){r(e,t,i[t])})}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{active:null,ticdet:{price:0,tip_price:0,Allprice:0},title:"Hello",user:{name:"张三",idcard:"513821199702079016",phone:"17628331820",teluser:"张思",isHYX:{default:!1,price:30},isBXPZ:{default:!1,price:30}},cyUserlist:[],gtSitList:[],gtDetail:{},CardTypeStr:"身份证",cardTypeList:[{title:"身份证",type:0},{title:"护照",type:1},{title:"港澳通行证",type:4},{title:"台湾通行证",type:6}],OrderInfo:{OrderAmount:0,TicketFare:0,StartCity:"",EndCity:"",StartDate:"",TrainNo:"",StartTime:"",EndTime:"",ContactName:"",ContactPhone:"",ContactEmail:"",Tel:"",Remark:""},nowPassIdx:0,passenGbox:[],psgTypeList:[{type:1,title:"成人"},{type:2,title:"儿童"}],OrderPsg:{PsgName:"",TicketType:0,TicketTypeStr:"成人",CardType:0,CardTypeStr:"身份证",SeatType:10,CardNo:"",Phone:"",InsProductCode:""}}},onShow:function(){},onLoad:function(){this.gtDetail=this.$store.state.gtYuMes,console.log(this.gtDetail,"票务详情"),this.setSitTypeMes(this.gtDetail),this.passenGbox.push(i({},this.OrderPsg))},methods:{AddPassengers:function(){this.passenGbox.push(i({},this.OrderPsg)),this.ticdet.Allprice=this.ticdet.price*this.passenGbox.length},DelPassengers:function(t){var i=this;e.showModal({title:"提示",content:"确定删除乘客？",showCancel:!0,cancelText:"取消",confirmText:"确定",success:function(e){if(e.confirm)return i.passenGbox.splice(t,1),void(i.ticdet.Allprice=i.passenGbox.length*i.ticdet.price);e.cancel}})},setPsgType:function(e){var t="";switch(e.detail.value){case 0:t="成人";break;case 1:t="儿童";break}this.passenGbox[this.nowPassIdx].TicketType=e.detail.value,this.passenGbox[this.nowPassIdx].TicketTypeStr=t,console.log(e.detail.value)},setSitTypeMes:function(e){var t=[];if(0!=e.WzPrice){var i={title:"",price:"",number:"",type:9};i.title="无座",i.number=e.WzNum,i.price=e.WzPrice,t.push(i)}if(0!=e.EdzPrice){var r={title:"",price:"",number:"",type:3};r.title="二等座",r.price=e.EdzPrice,r.number=e.EdzNum,t.push(r)}if(0!=e.YdzPrice){var n={title:"",price:"",number:"",type:2};n.title="一等座",n.price=e.YdzPrice,n.number=e.YdzNum,t.push(n)}if(0!=e.YwPrice){var c={title:"",price:"",number:"",type:6};c.title="硬卧",c.price=e.YwPrice,c.number=e.YwNum,t.push(c)}if(0!=e.RwPrice){var s={title:"",price:"",number:"",type:5};s.title="软卧",s.price=e.RwPrice,s.number=e.RwNum,t.push(s)}if(0!=e.RzPrice){var a={title:"",price:"",number:"",type:7};a.title="软座",a.price=e.RzPrice,a.number=e.RzPrice,t.push(a)}if(0!=e.YzPrice){var o={title:"",price:"",number:"",type:8};o.title="硬座",o.price=e.YzPrice,o.number=e.YzNum,t.push(o)}if(0!=e.GjrwPrice){var u={title:"",price:"",number:"",type:4};u.title="高级软卧",u.price=e.GjrwPrice,u.number=e.GjrwNum,t.push(u)}if(0!=e.TdzPrice){var l={title:"",price:"",number:"",type:1};l.title="特等座",l.price=e.TdzPrice,l.number=e.TdzNum,t.push(l)}if(0!=e.SwzPrice){var p={title:"",price:"",number:"",type:0};p.title="商务座",p.price=e.SwzPrice,p.number=e.SwzNum,t.push(p)}this.gtSitList=t},showSetCardType:function(e){var t=0,i="";switch(e.detail.value){case 0:t=0,i="身份证";break;case 1:t=1,i="护照";break;case 2:t=4,i="港澳通行证";break;case 3:t=5,i="台胞证";break;case 4:t=6,i="台湾通行证";break;case 5:t=7,i="回乡证";break;case 6:t=9,i="其他";break}this.passenGbox[this.nowPassIdx].CardTypeStr=i,this.passenGbox[this.nowPassIdx].CardType=t},choseOneTic:function(t,i){var r=this.gtSitList[i];0==r.number?e.showModal({showCancel:!1,title:"提示",content:"暂无余票",success:function(e){e.confirm?console.log("用户点击确定"):e.cancel&&console.log("用户点击取消")}}):this.active==i?(this.active=null,this.ticdet.Allprice=0,this.ticdet.price=0):(this.active=i,this.ticdet.price=r.price,this.ticdet.Allprice=r.price*this.passenGbox.length)},setIdCard:function(e){var t=0;e=String(e);var i=e.slice(0,4),r=e.slice(-4);return t=i+"******"+r,t},getOrderSome:function(){e.showLoading({title:"加载中"});var t=(new Date).toLocaleString();e.request({url:"/api/Train/GetTrainBookPara",method:"POST",data:{ApiKey:"b421b9a21075a359c09a36db79325d5b",Sign:"",Timestamp:t,Data:{}},success:function(t){console.log(t.data,"订票所需参数"),e.hideLoading()}})}}};t.default=n}).call(this,i("543d")["default"])},"33ba":function(e,t,i){"use strict";var r,n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.nowPassIdx=e.idx},e.e1=function(t){e.nowPassIdx=e.idx})},c=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return c}),i.d(t,"a",function(){return r})},4729:function(e,t,i){"use strict";i.r(t);var r=i("33ba"),n=i("f6ec");for(var c in n)"default"!==c&&function(e){i.d(t,e,function(){return n[e]})}(c);i("9fcc");var s,a=i("f0c5"),o=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=o.exports},"9fcc":function(e,t,i){"use strict";var r=i("f7dd"),n=i.n(r);n.a},dc96:function(e,t,i){"use strict";(function(e){i("a406"),i("921b");r(i("66fd"));var t=r(i("4729"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},f6ec:function(e,t,i){"use strict";i.r(t);var r=i("116c"),n=i.n(r);for(var c in r)"default"!==c&&function(e){i.d(t,e,function(){return r[e]})}(c);t["default"]=n.a},f7dd:function(e,t,i){}},[["dc96","common/runtime","common/vendor"]]]);